# Restrict certain jobs to donator/vip/whatever usergroup

= Introduction =

I've been asked to make support for donator only jobs. Since revision 890 you can have it. 


= Details =
==Creating the usergroup==
In order to use this, you will first need some players that have the donator, vip or whatever usergroup. In ulx I believe it's "ulx adduser name donator", but I'm not sure. Here's the guide for FAdmin:

 * Make sure you're root user (FAdmin setroot yourname in rcon/server console)
 * Have the donator join your server
 * Once he's in press tab, click the player's name and click Set access (first button)
 * Click new 
 * Follow the on-screen instructions and name the usergroup "donator" or "vip" or whatever. Just make sure you remember the name of the group.
 * When making your job, use this template:
{{{
TEAM_DONATORJOB = AddExtraTeam("Swat", -- Name
Color(238, 99, 99, 255), -- Team color
"models/player/mossman.mdl", -- Player model
[[As a cook, it is your responsibility to feed the other members 
of your city. 
You can spawn a microwave and sell the food you make:
/Buymicrowave]],  -- Job description
{}, -- Weapons
"Swat", -- Command to become the job
2, -- Maximum amount of said job
45, -- Salary
0, -- Admin status
0, -- Has to vote
false, -- Has a license
nil, -- Needs to be job X in order to get this job
function(ply) return ply:GetNWString("usergroup") == "donator" end -- The extra check function. Enter nil or nothing to not have an extra check
)
}}}
 * at the last part, change "donator" to "vip", "special" or whatever you named your group two steps ago. If it was "donator", you can leave it like that. Make sure the double quotes (" ") stay there.
 * Restart the server
 * Ask the donator to try to get the job to test it.

==NOTES==
If the extra check says only donators can get the job, then admins and superadmins won't be able to get the job, because they're not donators. If you want the admins to be able to get the job, use this template to make the job:

{{{
TEAM_DONATORJOB = AddExtraTeam("Swat", -- Name
Color(238, 99, 99, 255), -- Team color
"models/player/mossman.mdl", -- Player model
[[As a cook, it is your responsibility to feed the other members 
of your city. 
You can spawn a microwave and sell the food you make:
/Buymicrowave]],  -- Job description
{}, -- Weapons
"Swat", -- Command to become the job
2, -- Maximum amount of said job
45, -- Salary
0, -- Admin status
0, -- Has to vote
false, -- Has a license
nil, -- Needs to be job X in order to get this job
function(ply) return ply:GetNWString("usergroup") == "donator" or ply:IsAdmin() end -- The extra check function. Enter nil or nothing to not have an extra check
)
}}}

